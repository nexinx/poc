(self.webpackChunknexinx_webui=self.webpackChunknexinx_webui||[]).push([[351],{818:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var a=n(7313),r=n(1806),s=n(9019),o=n(1113),i=n(501),l=n(8310),c=n(7216),d=n(9840),h=n(4748),u=n(3213),x=n(9536),m=n(3245),Z=n(2040),p=n(8377),j=n(8465),g=n(1970),v=n(6417);const f=e=>{let{onClick:t,handleExport:n,handleImport:f,route:y}=e;const S=(0,a.useRef)(),b=n&&n.length>0;return(0,v.jsx)(r.Z,{sx:{mb:3},children:(0,v.jsxs)(s.ZP,{container:!0,spacing:2,children:[(0,v.jsx)(s.ZP,{item:!0,xs:12,sm:4,children:(0,v.jsxs)(o.Z,{className:"topTitle",color:"secondary.dark",sx:{textTransform:"capitalize"},children:[y," Managment"]})}),(0,v.jsx)(s.ZP,{item:!0,xs:12,sm:8,children:(0,v.jsx)(i.Z,{elevation:0,sx:{display:"flex",width:"fit-content",marginLeft:"auto"},children:(0,v.jsxs)(l.Z,{style:{display:"flex",flexDirection:"row",padding:0},children:[(0,v.jsx)(c.ZP,{disablePadding:!0,children:(0,v.jsxs)(d.Z,{onClick:t,disabled:"epaper"===y,children:[(0,v.jsx)(h.Z,{sx:{minWidth:0},children:(0,v.jsx)(Z.Z,{})}),(0,v.jsx)(u.Z,{primary:"Add"})]})}),(0,v.jsx)(x.Z,{orientation:"vertical",flexItem:!0}),(0,v.jsx)(c.ZP,{disablePadding:!0,children:(0,v.jsxs)(d.Z,{onClick:()=>{S.current&&S.current.link.click()},disabled:"node"!==y||!b,children:[(0,v.jsx)(h.Z,{sx:{minWidth:0},children:(0,v.jsx)(p.Z,{})}),(0,v.jsx)(u.Z,{primary:"Download"}),(0,v.jsx)(m.CSVLink,{data:n,filename:"selected_nodes.csv",ref:S})]})}),(0,v.jsx)(x.Z,{orientation:"vertical",flexItem:!0}),(0,v.jsx)(c.ZP,{disablePadding:!0,children:(0,v.jsxs)(d.Z,{onClick:f,disabled:"node"!==y,children:[(0,v.jsx)(h.Z,{sx:{minWidth:0},children:(0,v.jsx)(j.Z,{})}),(0,v.jsx)(u.Z,{primary:"Upload"})]})}),(0,v.jsx)(x.Z,{orientation:"vertical",flexItem:!0}),(0,v.jsx)(c.ZP,{disablePadding:!0,children:(0,v.jsxs)(d.Z,{onClick:t,disabled:!0,children:[(0,v.jsx)(h.Z,{sx:{minWidth:0},children:(0,v.jsx)(g.Z,{})}),(0,v.jsx)(u.Z,{primary:"Delete"})]})})]})})})]})})}},1351:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ve});var a=n(7313),r=n(2277),s=n(2832),o=n(7131),i=n(1806),l=n(3428),c=n(4641),d=n(3405),h=n(9019),u=n(6783),x=n(1113),m=n(501),Z=n(9536),p=n(1095),j=n(6373),g=n(9881),v=n(6149),f=n(3604),y=n(6467),S=n(8310),b=n(7216),C=n(3213),k=n(4117),w=n(3366),P=n(7462),z=n(4146),I=n(1921),A=n(1195),N=n(7592),O=n(7342),R=n(7430),M=n(2298);function L(e){return(0,M.Z)("MuiListItemAvatar",e)}(0,R.Z)("MuiListItemAvatar",["root","alignItemsFlexStart"]);var D=n(6417);const T=["className"],B=(0,N.ZP)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((e=>{let{ownerState:t}=e;return(0,P.Z)({minWidth:56,flexShrink:0},"flex-start"===t.alignItems&&{marginTop:8})})),F=a.forwardRef((function(e,t){const n=(0,O.Z)({props:e,name:"MuiListItemAvatar"}),{className:r}=n,s=(0,w.Z)(n,T),o=a.useContext(A.Z),i=(0,P.Z)({},n,{alignItems:o.alignItems}),l=(e=>{const{alignItems:t,classes:n}=e,a={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,I.Z)(a,L,n)})(i);return(0,D.jsx)(B,(0,P.Z)({className:(0,z.Z)(l.root,r),ownerState:i,ref:t},s))}));const E=(0,n(1171).Z)((0,D.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function W(e){return(0,M.Z)("MuiAvatar",e)}(0,R.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const H=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],_=(0,N.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((e=>{let{theme:t,ownerState:n}=e;return(0,P.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===n.variant&&{borderRadius:(t.vars||t).shape.borderRadius},"square"===n.variant&&{borderRadius:0},n.colorDefault&&(0,P.Z)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]}))})),V=(0,N.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),q=(0,N.ZP)(E,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});const J=a.forwardRef((function(e,t){const n=(0,O.Z)({props:e,name:"MuiAvatar"}),{alt:r,children:s,className:o,component:i="div",imgProps:l,sizes:c,src:d,srcSet:h,variant:u="circular"}=n,x=(0,w.Z)(n,H);let m=null;const Z=function(e){let{crossOrigin:t,referrerPolicy:n,src:r,srcSet:s}=e;const[o,i]=a.useState(!1);return a.useEffect((()=>{if(!r&&!s)return;i(!1);let e=!0;const a=new Image;return a.onload=()=>{e&&i("loaded")},a.onerror=()=>{e&&i("error")},a.crossOrigin=t,a.referrerPolicy=n,a.src=r,s&&(a.srcset=s),()=>{e=!1}}),[t,n,r,s]),o}((0,P.Z)({},l,{src:d,srcSet:h})),p=d||h,j=p&&"error"!==Z,g=(0,P.Z)({},n,{colorDefault:!j,component:i,variant:u}),v=(e=>{const{classes:t,variant:n,colorDefault:a}=e,r={root:["root",n,a&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,I.Z)(r,W,t)})(g);return m=j?(0,D.jsx)(V,(0,P.Z)({alt:r,srcSet:h,src:d,sizes:c,ownerState:g,className:v.img},l)):null!=s?s:p&&r?r[0]:(0,D.jsx)(q,{ownerState:g,className:v.fallback}),(0,D.jsx)(_,(0,P.Z)({as:i,ownerState:g,className:(0,z.Z)(v.root,o),ref:t},x,{children:m}))}));var U=n(3653),G=n(155),K=n(4481),X=n(818),$=n(5662),Q=n(8623);const Y="http://localhost:8080/api/v1",ee=sessionStorage.getItem("jwt"),te=e=>{let{nodeId:t,cancelLabel:n}=e;const[r,s]=(0,a.useState)({pageNumber:1}),[o,x]=(0,a.useState)({}),m=[{label:"Solum"},{label:"Zhsunyco"},{label:"X3"}],[v,f]=(0,a.useState)(!1),y=(e,t)=>{"clickaway"!==t&&(n(),f(!1))},[S,b]=(0,a.useState)([]);return(0,D.jsx)(i.Z,{children:(0,D.jsxs)(l.Z,{children:[(0,D.jsx)(c.Z,{title:"Add ePaper"}),(0,D.jsxs)(d.Z,{children:[(0,D.jsx)(h.ZP,{container:!0,spacing:2,rowSpacing:3,children:(0,D.jsxs)(h.ZP,{item:!0,xs:12,md:4,lg:4,children:[(0,D.jsx)(u.Z,{name:"identityId",label:"EPaper ID",value:r.identityId||"",onChange:e=>{const{name:t,value:n}=e.target;s({...r,[t]:n}),x((e=>({...e,[t]:""})))},fullWidth:!0,error:!!o.identityId,helperText:o.identityId}),(0,D.jsx)(Q.Z,{options:m,getOptionLabel:e=>e.label,value:m.find((e=>e.label===r.technology))||null,onChange:(e,t)=>{s({...r,technology:t?t.label:""}),x((e=>({...e,technology:""})))},renderInput:e=>(0,D.jsx)(u.Z,{...e,name:"technology",label:"Technology",margin:"normal",fullWidth:!0,error:!!o.technology,helperText:o.technology})}),(0,D.jsx)(Q.Z,{options:S,getOptionLabel:e=>e.label,value:S.find((e=>e.label===r.branchName))||null,onChange:(e,t)=>{s({...r,branchId:t?t.value:""}),x((e=>({...e,stationId:"",branchId:""})))},onFocus:async()=>{try{const e=(await $.Z.get("".concat(Y,"/branchs/branch-name"),{headers:{Authorization:"Bearer ".concat(ee)}})).data,t=Object.keys(e).map((t=>({label:t,value:e[t]})));b(t)}catch(e){console.error("Error fetching branches:",e)}},renderInput:e=>(0,D.jsx)(u.Z,{...e,name:"branchName",label:"Branch",margin:"normal",fullWidth:!0,error:!!o.branchName,helperText:o.branchName})})]})}),(0,D.jsx)(j.Z,{open:v,autoHideDuration:1e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:y,children:(0,D.jsx)(g.Z,{onClose:y,severity:"success",variant:"filled",sx:{width:"100%"},children:"ePaper Save Successfully"})})]}),(0,D.jsx)(Z.Z,{}),(0,D.jsx)(i.Z,{sx:{my:1},children:(0,D.jsx)(h.ZP,{container:!0,spacing:2,rowSpacing:2,children:(0,D.jsxs)(h.ZP,{item:!0,xs:12,md:12,lg:12,children:[(0,D.jsx)(p.Z,{onClick:async()=>{const e=(()=>{const e={};return r.identityId||(e.identityId="EPaper ID is required"),r.technology||(e.technology="Technology is required"),e})();if(0===Object.keys(e).length)try{const e={...r,nodeId:t};await $.Z.post("".concat(Y,"/epapers/"),e,{headers:{Authorization:"Bearer ".concat(ee)}}),f(!0)}catch(n){console.log(n)}else x(e)},variant:"contained",color:"secondary",sx:{ml:2},children:"Add"}),(0,D.jsx)(p.Z,{onClick:()=>{s({identityId:"",technology:""}),x({})},variant:"contained",color:"secondary",sx:{ml:2},children:"Reset"}),(0,D.jsx)(p.Z,{onClick:n,variant:"outlined",color:"secondary",sx:{ml:2},children:"Cancel"})]})})})]})})};var ne=n(5281),ae=n(3559);const re="http://localhost:8080/api/v1",se=sessionStorage.getItem("jwt"),oe=e=>{let{nodeId:t,cancelLabel:n,successAlert:r}=e;const[s,o]=(0,a.useState)(""),[j,g]=(0,a.useState)(!0),[v,f]=(0,a.useState)({}),[y,S]=(0,a.useState)("");(0,a.useEffect)((()=>{(async e=>{try{const t=await $.Z.get("".concat(re,"/nodes/node-resource/").concat(e),{headers:{Authorization:"Bearer ".concat(se)}});S(t.data.nodeAttribute),o(t.data.nodeImage)}catch(t){console.error("Error fetching Templates:",t)}})(t)}),[t]);const[b,C]=(0,a.useState)({}),k=e=>{const{name:n,value:a}=e.target,r=JSON.parse(y);f((e=>{const s={...e,[n]:a},o={};for(const t in r)s.hasOwnProperty(t)?o[t]=s[t]:o[t]=r[t]||"";return w(t,JSON.stringify(o)),C(o),s}))},w=async(e,t)=>{try{const n={templateId:e,templateAttribute:t},a=(await $.Z.post("".concat(re,"/nodes/build-node-template"),n,{headers:{Authorization:"Bearer ".concat(se)}})).data;o("data:image/png;base64,".concat(a))}catch(n){console.error("Error fetching Templates:",n)}},P=y?JSON.parse(y):{};return(0,D.jsx)(i.Z,{children:(0,D.jsxs)(l.Z,{children:[(0,D.jsx)(c.Z,{title:(0,D.jsxs)(a.Fragment,{children:[(0,D.jsx)(ae.Z,{}),"  Edit Node"]})}),(0,D.jsx)(d.Z,{children:(0,D.jsx)(h.ZP,{container:!0,spacing:2,rowSpacing:2,children:(0,D.jsx)(i.Z,{children:y&&(0,D.jsxs)(i.Z,{sx:{mb:2,px:1,pb:5},children:[(0,D.jsx)(x.Z,{sx:{py:1,ml:1.5,mt:3,fontSize:18},color:"secondary",gutterBottom:!0,children:"Template Preview:"}),(0,D.jsxs)(h.ZP,{container:!0,spacing:2,rowSpacing:2,children:[(0,D.jsx)(h.ZP,{item:!0,xs:"auto",md:"auto",lg:"auto",children:(0,D.jsxs)(m.Z,{style:{textAlign:"center",marginLeft:10},elevation:3,children:[j&&(0,D.jsx)("div",{children:(0,D.jsx)(ne.Z,{})}),(0,D.jsx)("img",{src:s,alt:"template",onLoad:()=>g(!1),style:{display:j?"none":"inline"}})]})}),(0,D.jsx)(h.ZP,{item:!0,xs:12,md:12,lg:12}),(0,D.jsxs)(h.ZP,{item:!0,xs:12,md:12,lg:12,children:[(0,D.jsx)(x.Z,{sx:{pt:2,pl:1,fontSize:18},color:"secondary",gutterBottom:!0,children:"Fields:"}),(0,D.jsx)(i.Z,{component:"form",sx:{"& > :not(style)":{m:1,width:"30ch"}},noValidate:!0,children:Object.entries(P).map(((e,t)=>{var n;let[a,r]=e;return(0,D.jsx)(u.Z,{variant:"outlined",fullWidth:!0,label:a,name:a,value:null!==(n=v[a])&&void 0!==n?n:r,onChange:k,margin:"normal"},t)}))})]})]})]})})})}),(0,D.jsx)(Z.Z,{}),(0,D.jsx)(i.Z,{sx:{my:1},children:(0,D.jsx)(h.ZP,{container:!0,spacing:2,rowSpacing:2,children:(0,D.jsxs)(h.ZP,{item:!0,xs:12,md:12,lg:12,children:[(0,D.jsx)(p.Z,{onClick:async()=>{try{const e={nodeAttribute:Object.keys(b).length>0?JSON.stringify(b):y,nodeImage:s};await $.Z.put("".concat(re,"/nodes/update-node-template/").concat(t),e,{headers:{Authorization:"Bearer ".concat(se)}}),n(),r()}catch(e){console.log(e)}},variant:"contained",color:"secondary",sx:{ml:2},children:" Update"}),(0,D.jsx)(p.Z,{onClick:n,variant:"outlined",color:"secondary",sx:{ml:2},children:"Cancle"})]})})})]})})};var ie=n(3917);const le="http://localhost:8080/api/v1",ce=sessionStorage.getItem("jwt"),de=e=>{let{nodeId:t,cancelLabel:n}=e;const[r,s]=(0,a.useState)({}),[o,c]=(0,a.useState)(!1),u=(0,a.useCallback)((async e=>{if(c(!0),1!==e.length)return void console.log("Please upload one file at a time.");const t=e[0],n=new FormData;n.append("file",t);try{const e=await $.Z.post("".concat(le,"/nodes/file-status"),n,{headers:{Authorization:"Bearer ".concat(ce),"Content-Type":"multipart/form-data"}});console.log("File uploaded successfully:",e.data)}catch(a){console.error("Error uploading file:",a)}}),[]),{acceptedFiles:m,getRootProps:j,getInputProps:g}=(0,ie.uI)({onDrop:u,multiple:!1,accept:{"text/csv":[".csv"]}}),v=m.map((e=>(0,D.jsxs)("li",{children:[(0,D.jsx)("div",{children:(0,D.jsxs)(x.Z,{sx:{fontSize:18},color:"text.secondary",children:[" ",(0,D.jsx)("strong",{children:"Filename:"})," ",e.name]})}),(0,D.jsx)("div",{children:(0,D.jsxs)(x.Z,{sx:{fontSize:18},color:"text.secondary",children:[(0,D.jsx)("strong",{children:"Filesize:"})," ",Math.round(e.size/1024)," KB"]})})]},e.path)));return(0,D.jsx)(i.Z,{children:(0,D.jsxs)(l.Z,{children:[(0,D.jsx)(Z.Z,{}),(0,D.jsx)(d.Z,{children:(0,D.jsx)(h.ZP,{container:!0,spacing:2,rowSpacing:2,children:(0,D.jsx)(h.ZP,{item:!0,xs:12,md:12,lg:12,children:!o&&(0,D.jsxs)("div",{...j({className:"dropzone"}),children:[(0,D.jsx)("input",{...g()}),(0,D.jsx)("div",{style:{minHeight:"140px",border:"2px dashed  #525252",alignItems:"center",justifyContent:"center",display:"flex",marginTop:20,paddingBottom:0},children:(0,D.jsx)(x.Z,{sx:{fontSize:20},color:"text.secondary",children:"Drag and drop CSV file here, or click to select files"})})]})})})}),o&&(0,D.jsxs)(i.Z,{children:[" ",(0,D.jsx)(h.ZP,{container:!0,spacing:2,rowSpacing:2,children:(0,D.jsx)(h.ZP,{item:!0,xs:12,md:12,lg:12,children:(0,D.jsx)(d.Z,{children:(0,D.jsx)("ul",{style:{textAlign:"left"},children:v})})})}),(0,D.jsx)(Z.Z,{}),(0,D.jsx)(i.Z,{sx:{my:1},children:(0,D.jsx)(h.ZP,{container:!0,spacing:2,rowSpacing:2,children:(0,D.jsxs)(h.ZP,{item:!0,xs:12,md:12,lg:12,children:[(0,D.jsx)(p.Z,{onClick:async()=>{try{await $.Z.post("".concat(le,"/epaper/"),r,{headers:{Authorization:"Bearer ".concat(ce)}})}catch(e){console.log(e)}},variant:"contained",color:"secondary",sx:{ml:2},children:" Upload"}),(0,D.jsx)(p.Z,{onClick:()=>{c(!1)},variant:"contained",color:"secondary",sx:{ml:2},children:"Reset"}),(0,D.jsx)(p.Z,{onClick:n,variant:"outlined",color:"secondary",sx:{ml:2},children:"Cancle"})]})})})]})]})})};var he=n(3306),ue=n(5927),xe=n(4846),me=n(1405),Ze=n(1550),pe=n(6529);const je="http://localhost:8080/api/v1",ge=sessionStorage.getItem("jwt"),ve=()=>{const[e,t]=(0,a.useState)([]),[n,w]=(0,a.useState)(!1),[P,z]=(0,a.useState)(null),[I,A]=(0,a.useState)(""),[N,O]=(0,a.useState)(""),[R,M]=(0,a.useState)(!0),[L,T]=(0,a.useState)(!1),[B,E]=(0,a.useState)(""),[W,H]=(0,a.useState)(!1),[_,V]=(0,a.useState)(!1),[q,Q]=(0,a.useState)(!1),[Y,ee]=(0,a.useState)({}),[ae,re]=(0,a.useState)({}),[se,ie]=(0,a.useState)(!1),[le,ce]=(0,a.useState)(!0);(0,a.useEffect)((()=>{(async()=>{try{return(await $.Z.get("".concat(je,"/nodes"),{headers:{Authorization:"Bearer ".concat(ge)}})).data.reverse().map((e=>{const t=JSON.parse(e.nodeAttribute),n=Object.entries(t).map((e=>{let[t,n]=e;return"".concat(t,": ").concat(n)})).join(", ");return{...e,nodeAttribute:n}}))}catch(e){console.error(e),ce(!1)}})().then((e=>{e&&t(e),ce(!1)}))}),[]);const ve=[{field:"nodeCoordinate",headerName:"Node Coordinate",flex:1},{field:"nodeAttribute",headerName:"Node Attribute",flex:1},{field:"processingStatus",headerName:"Processing Status",flex:1},{field:"linkedRack",headerName:"In Rack",flex:1},{field:"ePapers",headerName:"ePapers",width:250,renderCell:e=>(0,D.jsx)(s.Z,{direction:"row",alignItems:"center",spacing:3,children:(0,D.jsx)(o.Z,{onClick:()=>Qe(e.id),size:"large","aria-label":"link",color:"secondary",children:(0,D.jsx)(xe.Z,{fontSize:"inherit"})})})},{field:"actions",headerName:"Actions",width:250,renderCell:e=>(0,D.jsxs)(s.Z,{direction:"row",alignItems:"center",spacing:1,children:[(0,D.jsx)(o.Z,{onClick:()=>Ve(e.row),size:"large","aria-label":"link",color:"secondary",children:(0,D.jsx)(U.Z,{fontSize:"inherit"})}),(0,D.jsx)(o.Z,{onClick:()=>{return t=e.id,E(t),void H(!W);var t},size:"large","aria-label":"link",color:"secondary",children:(0,D.jsx)(ue.Z,{fontSize:"inherit"})}),(0,D.jsx)(o.Z,{onClick:()=>{return t=e.id,E(t),void V(!_);var t},size:"large",color:"secondary",children:(0,D.jsx)(G.Z,{fontSize:"inherit"})}),(0,D.jsx)(o.Z,{onClick:()=>Je(e.id),size:"medium",color:"secondary",children:(0,D.jsx)(K.Z,{fontSize:"inherit"})})]})}],[fe,ye]=(0,a.useState)([]),[Se,be]=(0,a.useState)(""),[Ce,ke]=(0,a.useState)(""),[we,Pe]=(0,a.useState)(""),[ze,Ie]=(0,a.useState)(""),Ae=async(e,t)=>{try{const n={templateId:e,templateAttribute:t},a=(await $.Z.post("".concat(je,"/templates/buildTemplate"),n,{headers:{Authorization:"Bearer ".concat(ge)}})).data;O("data:image/png;base64,".concat(a))}catch(n){console.error("Error fetching Templates:",n)}},[Ne,Oe]=(0,a.useState)([]),[Re,Me]=(0,a.useState)(""),[Le,De]=(0,a.useState)(""),Te=e=>{const{name:t,value:n}=e.target,a=JSON.parse(ze),r={};ee((e=>{const s={...e,[t]:n};for(const t in a)s.hasOwnProperty(t)?r[t]=s[t]:r[t]="";return Ae(Ce,JSON.stringify(r)),re(r),s}))},Be=(e,t)=>{ie(!(!e||!t))},Fe=(e,t)=>{"clickaway"!==t&&Q(!1)},[Ee,We]=(0,a.useState)(!1),[He,_e]=(0,a.useState)({}),Ve=e=>{_e(e),We(!0)},qe=()=>{_e({}),We(!1)},Je=e=>{z(e),w(!0)},Ue=()=>{z(null),w(!1)},[Ge,Ke]=(0,a.useState)(!1),[Xe,$e]=(0,a.useState)([]),Qe=e=>{et(e),Ke(!0)},Ye=()=>{Ke(!1)},et=async e=>{try{const t=await $.Z.get("".concat(je,"/epapers/").concat(e),{headers:{Authorization:"Bearer ".concat(ge)}});$e(t.data)}catch(t){console.error("Error fetching branches:",t)}},[tt,nt]=(0,a.useState)([]),[at,rt]=(0,a.useState)(!1),st=()=>{A(""),Me(""),De(""),be(""),ke(""),Pe(""),Ie(""),re({}),ee({}),O(""),M(!0),ie(!1)};return(0,D.jsxs)(i.Z,{children:[(0,D.jsx)(X.Z,{onClick:()=>{T(!L)},handleExport:tt.map((t=>{const n=e.find((e=>e.id===t));return{nodeAttribute:n.nodeAttribute,nodeCoordinate:n.nodeCoordinate}})),handleImport:()=>{rt(!at)},route:"node"}),at&&(0,D.jsx)(de,{nodeId:B,cancelLabel:()=>{rt(!at)}}),W&&(0,D.jsx)(te,{nodeId:B,cancelLabel:()=>{H(!W)}}),_&&(0,D.jsx)(oe,{nodeId:B,cancelLabel:()=>{V(!_)},successAlert:()=>{Q(!0)}}),L&&(0,D.jsxs)(l.Z,{children:[(0,D.jsx)(c.Z,{title:"Add Node"}),(0,D.jsx)(d.Z,{children:(0,D.jsxs)(h.ZP,{container:!0,spacing:2,rowSpacing:2,children:[(0,D.jsx)(h.ZP,{item:!0,xs:12,md:3,lg:2,children:(0,D.jsxs)(Ze.Z,{fullWidth:!0,children:[(0,D.jsx)(he.Z,{children:"Templates"}),(0,D.jsx)(pe.Z,{value:Ce,label:"Template",onChange:e=>{ke(e.target.value),Pe(fe.find((t=>t.id===e.target.value)).name);(async()=>{try{const t=await $.Z.get("".concat(je,"/templates/").concat(e.target.value),{headers:{Authorization:"Bearer ".concat(ge)}});Ie(t.data.templateAttribute),be(t.data.templateRaw),Ae(e.target.value,t.data.templateAttribute)}catch(t){console.error("Error fetching Templates:",t)}})()},onOpen:()=>{(async()=>{try{const e=await $.Z.get("".concat(je,"/templates/template-name"),{headers:{Authorization:"Bearer ".concat(ge)}}),t=Object.keys(e.data).map((t=>({name:t,id:e.data[t]})));ye(t)}catch(e){console.error("Error fetching Templates:",e)}})()},children:fe.slice().reverse().map(((e,t)=>(0,D.jsx)(me.Z,{value:e.id,children:e.name},t)))})]})}),(0,D.jsx)(h.ZP,{item:!0,xs:12,md:3,lg:2,children:(0,D.jsxs)(Ze.Z,{fullWidth:!0,children:[(0,D.jsx)(he.Z,{children:"Racks"}),(0,D.jsx)(pe.Z,{value:Re,label:"Racks",onChange:e=>{Me(e.target.value),Be(e.target.value,Le)},onOpen:()=>{(async()=>{try{const e=await $.Z.get("".concat(je,"/racks/rack-name"),{headers:{Authorization:"Bearer ".concat(ge)}}),t=Object.keys(e.data).map((t=>({name:t,id:e.data[t]})));Oe(t)}catch(e){console.error("Error fetching Racks:",e)}})()},children:Ne.slice().reverse().map(((e,t)=>(0,D.jsx)(me.Z,{value:e.name,children:e.name},t)))})]})}),(0,D.jsx)(h.ZP,{item:!0,xs:12,md:3,lg:2,children:(0,D.jsx)(u.Z,{required:!0,fullWidth:!0,name:"subRackSequence",label:"Sequence",value:Le,onChange:e=>{De(e.target.value),A(Re+"_"+e.target.value),Be(Re,e.target.value)}})}),(0,D.jsx)(h.ZP,{item:!0,xs:12,md:3,lg:3,children:(0,D.jsx)(u.Z,{required:!0,disabled:!0,fullWidth:!0,name:"nodeCoordinate",label:"Coordiante",value:"".concat(I)||"",onChange:Te})})]})}),ze&&(0,D.jsx)(i.Z,{children:(0,D.jsxs)(i.Z,{sx:{mb:2,px:1,pb:5},children:[(0,D.jsx)(x.Z,{sx:{py:1,ml:1.5,mt:1,fontSize:18},color:"secondary",gutterBottom:!0,children:"Template Preview:"}),(0,D.jsxs)(h.ZP,{container:!0,spacing:2,rowSpacing:2,children:[(0,D.jsx)(h.ZP,{item:!0,xs:"auto",md:"auto",lg:"auto",children:(0,D.jsxs)(m.Z,{style:{textAlign:"left",marginLeft:10},elevation:3,children:[R&&(0,D.jsx)("div",{children:(0,D.jsx)(ne.Z,{})}),(0,D.jsx)("img",{src:N,alt:"template",onLoad:()=>M(!1),style:{display:R?"none":"inline"}})]})}),(0,D.jsx)(h.ZP,{item:!0,xs:12,md:12,lg:12}),(0,D.jsxs)(h.ZP,{item:!0,xs:12,md:8,lg:8,children:[(0,D.jsx)(x.Z,{sx:{pt:2,pl:1,fontSize:18},color:"secondary",gutterBottom:!0,children:"Fields:"}),(0,D.jsx)(i.Z,{component:"form",sx:{"& > :not(style)":{m:1,width:"30ch"}},noValidate:!0,children:Object.keys(JSON.parse(ze)).map(((e,t)=>(0,D.jsx)(u.Z,{id:"outlined-basic-".concat(t),variant:"outlined",fullWidth:!0,label:e,name:e,value:Y[e]||"",onChange:Te,margin:"normal"},t)))})]})]})]})}),(0,D.jsx)(Z.Z,{}),(0,D.jsx)(i.Z,{sx:{my:1},children:(0,D.jsx)(h.ZP,{container:!0,spacing:2,rowSpacing:2,children:(0,D.jsxs)(h.ZP,{item:!0,xs:12,md:12,lg:12,children:[(0,D.jsx)(p.Z,{onClick:async()=>{try{const n="".concat(Re,"_").concat(Le),a=Object.keys(ae).length>0?JSON.stringify(ae):ze,r={...Y,nodeAttribute:a,nodeCoordinate:n,nodeImage:N,nodeTemplate:Se,templateName:we,linkedRack:Re},s=(await $.Z.post("".concat(je,"/nodes/"),r,{headers:{Authorization:"Bearer ".concat(ge)}})).data.id,o={id:Date.now(),...r};o.id=s,t([o,...e])}catch(n){console.log(n)}st(),Q(!0)},variant:"contained",color:"secondary",sx:{ml:2},disabled:R||!se,children:"Save"}),(0,D.jsx)(p.Z,{onClick:st,variant:"contained",color:"secondary",sx:{ml:2},disabled:R||!se,children:"Reset"}),(0,D.jsx)(p.Z,{onClick:()=>{A(""),Me(""),De(""),be(""),ke(""),Pe(""),Ie(""),re({}),ee({}),O(""),M(!0),ie(!1),T(!1)},variant:"outlined",color:"secondary",sx:{ml:2},children:"Cancel"})]})})})]}),(0,D.jsx)(m.Z,{children:(0,D.jsx)(r._$,{rows:e,columns:ve,initialState:{pagination:{paginationModel:{pageSize:50}}},onRowSelectionModelChange:e=>{nt(e)},pageSizeOptions:[50,75,100],checkboxSelection:!0,disableSelectionOnClick:!0,autoHeight:!0,loading:le,loadingOverlay:(0,D.jsxs)("div",{className:"Data-Loader",children:[(0,D.jsx)(ne.Z,{})," "]})})}),(0,D.jsx)(j.Z,{open:q,autoHideDuration:4e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:Fe,children:(0,D.jsx)(g.Z,{onClose:Fe,severity:"success",variant:"filled",sx:{width:"100%"},children:"Node Save Successfully"})}),(0,D.jsxs)(v.Z,{open:Ee,onClose:qe,children:[(0,D.jsx)(f.Z,{children:" Node Details"}),(0,D.jsx)(y.Z,{sx:{minWidth:500},children:(0,D.jsx)(S.Z,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:Object.entries(He).map((e=>{let[t,n]=e;return(0,D.jsx)(b.ZP,{children:(0,D.jsx)(C.Z,{primary:" ".concat(t),secondary:" ".concat(n)})},t)}))})}),(0,D.jsx)(k.Z,{children:(0,D.jsx)(p.Z,{onClick:qe,children:"Cancel"})})]}),(0,D.jsxs)(v.Z,{open:n,onClose:Ue,children:[(0,D.jsx)(f.Z,{children:"Confirm Delete"}),(0,D.jsx)(y.Z,{children:(0,D.jsx)(x.Z,{children:" Are you sure you want to delete this Node?"})}),(0,D.jsxs)(k.Z,{children:[(0,D.jsx)(p.Z,{onClick:Ue,color:"primary",children:"Cancel"}),(0,D.jsx)(p.Z,{onClick:async n=>{try{const n=P;if(null!==n){const a=e.filter((e=>e.id!==n));await $.Z.delete("".concat(je,"/nodes/").concat(n),{headers:{Authorization:"Bearer ".concat(ge)}}),t(a),Ue()}}catch(a){console.error("Error deleting row:",a)}},variant:"contained",color:"error",children:"Delete"})]})]}),(0,D.jsxs)(v.Z,{open:Ge,onClose:Ye,maxWidth:"lg",children:[(0,D.jsx)(f.Z,{children:"Linked ePapers"}),(0,D.jsx)(y.Z,{sx:{minWidth:300,minHeight:100},children:(0,D.jsx)(i.Z,{children:0===Xe.length?(0,D.jsx)(x.Z,{children:"No ePaper linked"}):(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(x.Z,{sx:{ml:3},children:["Total Linked ePaper: ",(0,D.jsx)("strong",{children:Xe.length})," "]}),(0,D.jsx)(S.Z,{children:Xe.map(((e,t)=>(0,D.jsxs)(b.ZP,{children:[(0,D.jsx)(F,{children:(0,D.jsx)(J,{sx:{color:"black"},children:(0,D.jsx)(xe.Z,{})})}),e.identityId]},t)))})]})})}),(0,D.jsx)(k.Z,{children:(0,D.jsx)(p.Z,{onClick:Ye,color:"primary",children:"Cancel"})})]})]})}},4846:(e,t,n)=>{"use strict";var a=n(4836);t.Z=void 0;var r=a(n(5045)),s=n(6417),o=(0,r.default)((0,s.jsx)("path",{d:"M1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm18-7H5v1.63c3.96 1.28 7.09 4.41 8.37 8.37H19V7zM1 10v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11zm20-7H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CastConnected");t.Z=o},3559:(e,t,n)=>{"use strict";var a=n(4836);t.Z=void 0;var r=a(n(5045)),s=n(6417),o=(0,r.default)((0,s.jsx)("path",{d:"M18.41 5.8 17.2 4.59c-.78-.78-2.05-.78-2.83 0l-2.68 2.68L3 15.96V20h4.04l8.74-8.74 2.63-2.63c.79-.78.79-2.05 0-2.83zM6.21 18H5v-1.21l8.66-8.66 1.21 1.21L6.21 18zM11 20l4-4h6v4H11z"}),"DriveFileRenameOutline");t.Z=o},5927:(e,t,n)=>{"use strict";var a=n(4836);t.Z=void 0;var r=a(n(5045)),s=n(6417),o=(0,r.default)((0,s.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"}),"InsertLink");t.Z=o},155:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(1171),r=n(6417);const s=(0,a.Z)((0,r.jsx)("path",{d:"M18.41 5.8 17.2 4.59c-.78-.78-2.05-.78-2.83 0l-2.68 2.68L3 15.96V20h4.04l8.74-8.74 2.63-2.63c.79-.78.79-2.05 0-2.83zM6.21 18H5v-1.21l8.66-8.66 1.21 1.21L6.21 18zM11 20l4-4h6v4H11z"}),"DriveFileRenameOutline")},3653:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(1171),r=n(6417);const s=(0,a.Z)((0,r.jsx)("path",{d:"M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7z"}),"VisibilityOutlined")},5045:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.createSvgIcon}});var a=n(6415)},6415:(e,t,n)=>{"use strict";n.r(t),n.d(t,{capitalize:()=>r.Z,createChainedFunction:()=>s,createSvgIcon:()=>o.Z,debounce:()=>i.Z,deprecatedPropType:()=>l,isMuiElement:()=>c.Z,ownerDocument:()=>d.Z,ownerWindow:()=>h.Z,requirePropFactory:()=>u,setRef:()=>x,unstable_ClassNameGenerator:()=>y,unstable_useEnhancedEffect:()=>m.Z,unstable_useId:()=>Z.Z,unsupportedProp:()=>p,useControlled:()=>j.Z,useEventCallback:()=>g.Z,useForkRef:()=>v.Z,useIsFocusVisible:()=>f.Z});var a=n(1271),r=n(1615);const s=n(4246).Z;var o=n(1171),i=n(8706);const l=function(e,t){return()=>null};var c=n(7816),d=n(6106),h=n(3533);n(7462);const u=function(e,t){return()=>null};const x=n(9265).Z;var m=n(4993),Z=n(7677);const p=function(e,t,n,a,r){return null};var j=n(3800),g=n(3236),v=n(6983),f=n(9127);const y={configure:e=>{a.Z.configure(e)}}},4836:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}}]);