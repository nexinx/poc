"use strict";(self.webpackChunknexinx_webui=self.webpackChunknexinx_webui||[]).push([[809],{818:(e,a,n)=>{n.d(a,{Z:()=>p});var i=n(7313),l=n(1806),t=n(9019),r=n(1113),o=n(501),s=n(8310),d=n(7216),c=n(9840),x=n(4748),h=n(3213),g=n(9536),m=n(3245),Z=n(2040),j=n(8377),u=n(8465),f=n(1970),z=n(6417);const p=e=>{let{onClick:a,handleExport:n,handleImport:p,route:v}=e;const C=(0,i.useRef)(),b=n&&n.length>0;return(0,z.jsx)(l.Z,{sx:{mb:3},children:(0,z.jsxs)(t.ZP,{container:!0,spacing:2,children:[(0,z.jsx)(t.ZP,{item:!0,xs:12,sm:4,children:(0,z.jsxs)(r.Z,{className:"topTitle",color:"secondary.dark",sx:{textTransform:"capitalize"},children:[v," Managment"]})}),(0,z.jsx)(t.ZP,{item:!0,xs:12,sm:8,children:(0,z.jsx)(o.Z,{elevation:0,sx:{display:"flex",width:"fit-content",marginLeft:"auto"},children:(0,z.jsxs)(s.Z,{style:{display:"flex",flexDirection:"row",padding:0},children:[(0,z.jsx)(d.ZP,{disablePadding:!0,children:(0,z.jsxs)(c.Z,{onClick:a,disabled:"epaper"===v,children:[(0,z.jsx)(x.Z,{sx:{minWidth:0},children:(0,z.jsx)(Z.Z,{})}),(0,z.jsx)(h.Z,{primary:"Add"})]})}),(0,z.jsx)(g.Z,{orientation:"vertical",flexItem:!0}),(0,z.jsx)(d.ZP,{disablePadding:!0,children:(0,z.jsxs)(c.Z,{onClick:()=>{C.current&&C.current.link.click()},disabled:"node"!==v||!b,children:[(0,z.jsx)(x.Z,{sx:{minWidth:0},children:(0,z.jsx)(j.Z,{})}),(0,z.jsx)(h.Z,{primary:"Download"}),(0,z.jsx)(m.CSVLink,{data:n,filename:"selected_nodes.csv",ref:C})]})}),(0,z.jsx)(g.Z,{orientation:"vertical",flexItem:!0}),(0,z.jsx)(d.ZP,{disablePadding:!0,children:(0,z.jsxs)(c.Z,{onClick:p,disabled:"node"!==v,children:[(0,z.jsx)(x.Z,{sx:{minWidth:0},children:(0,z.jsx)(u.Z,{})}),(0,z.jsx)(h.Z,{primary:"Upload"})]})}),(0,z.jsx)(g.Z,{orientation:"vertical",flexItem:!0}),(0,z.jsx)(d.ZP,{disablePadding:!0,children:(0,z.jsxs)(c.Z,{onClick:a,disabled:!0,children:[(0,z.jsx)(x.Z,{sx:{minWidth:0},children:(0,z.jsx)(f.Z,{})}),(0,z.jsx)(h.Z,{primary:"Delete"})]})})]})})})]})})}},2809:(e,a,n)=>{n.r(a),n.d(a,{default:()=>z});var i=n(7313),l=n(2277),t=n(1095),r=n(1806),o=n(501),s=n(6149),d=n(3604),c=n(6467),x=n(6783),h=n(4117),g=n(4481),m=n(155),Z=n(818),j=n(5662),u=n(6417);const f="http://localhost:8080/api/v1",z=()=>{const[e,a]=(0,i.useState)([]),[n,z]=(0,i.useState)(null),[p,v]=(0,i.useState)(!1),[C,b]=(0,i.useState)({}),[k,w]=(0,i.useState)(!1),[y,N]=(0,i.useState)(null);(0,i.useEffect)((()=>{(async()=>{try{const e=await j.Z.get("".concat(f,"/organizations"));a(e.data)}catch(e){console.error(e)}})()}),[]);const I=()=>{z(null),b({}),v(!1)},P=()=>{N(null),w(!1)},D=e=>{b({...C,[e.target.name]:e.target.value})},O=[{field:"organizationName",headerName:"Organization Name",flex:1},{field:"organizationDetails",headerName:"Organization Details",flex:1},{field:"organizationAddress",headerName:"Organization Address",flex:1},{field:"organizationPhone",headerName:"Organization Phone",flex:1},{field:"organizationEmail",headerName:"Organization Email",flex:1},{field:"taxId",headerName:"Tax ID",flex:1},{field:"registrationId",headerName:"Registration ID",flex:1},{field:"actions",headerName:"Actions",width:200,renderCell:e=>(0,u.jsxs)("div",{children:[(0,u.jsx)(t.Z,{onClick:()=>{return a=e.id,N(a),void w(!0);var a},startIcon:(0,u.jsx)(g.Z,{}),color:"error",className:"lowercaseText",children:"Delete"}),(0,u.jsx)(t.Z,{onClick:()=>{return a=e.row,z(a||null),b(a||{}),void v(!0);var a},startIcon:(0,u.jsx)(m.Z,{}),color:"error",className:"lowercaseText",children:"Edit"})]})}];return(0,u.jsxs)(r.Z,{children:[(0,u.jsx)(Z.Z,{}),(0,u.jsx)(o.Z,{children:(0,u.jsx)("div",{style:{height:"auto",width:"100%"},children:(0,u.jsx)(l._$,{rows:e,columns:O,initialState:{pagination:{paginationModel:{pageSize:50}}},pageSizeOptions:[50,75,100],checkboxSelection:!0,disableSelectionOnClick:!0,autoHeight:!0})})}),(0,u.jsxs)(s.Z,{open:p,onClose:I,children:[(0,u.jsx)(d.Z,{children:n?"Edit Organization":"Add New Organination"}),(0,u.jsxs)(c.Z,{children:[(0,u.jsx)(x.Z,{name:"organizationName",label:"Organization Name",value:C.organizationName||"",onChange:D,fullWidth:!0,margin:"normal"}),(0,u.jsx)(x.Z,{name:"organizationDetails",label:"Organization Details",value:C.organizationDetails||"",onChange:D,fullWidth:!0,margin:"normal"}),(0,u.jsx)(x.Z,{name:"organizationAddress",label:"Organization Address",value:C.organizationAddress||"",onChange:D,fullWidth:!0,margin:"normal"}),(0,u.jsx)(x.Z,{name:"organizationPhone",label:"Organization Phone",value:C.organizationPhone||"",onChange:D,fullWidth:!0,margin:"normal"}),(0,u.jsx)(x.Z,{name:"organizationEmail",label:"Organization Email",value:C.organizationEmail||"",onChange:D,fullWidth:!0,margin:"normal"}),(0,u.jsx)(x.Z,{name:"taxId",label:"Tax Id",value:C.taxId||"",onChange:D,fullWidth:!0,margin:"normal"}),(0,u.jsx)(x.Z,{name:"registrationId",label:"Registration Id",value:C.registrationId||"",onChange:D,fullWidth:!0,margin:"normal"})]}),(0,u.jsxs)(h.Z,{children:[(0,u.jsx)(t.Z,{onClick:I,children:"Cancel"}),(0,u.jsx)(t.Z,{onClick:async()=>{try{if(null!=n){const i=e.map((e=>e.id===n.id?{...e,...C}:e));await j.Z.put("".concat(f,"/organizations/").concat(C.id),C),a(i)}else{const n={id:Date.now(),...C},i=(await j.Z.post("".concat(f,"/organizations/"),C)).data.id;n.id=i,a([...e,n])}I()}catch(i){console.log(i)}},variant:"contained",color:"error",children:"Save"})]})]}),(0,u.jsxs)(s.Z,{open:k,onClose:P,children:[(0,u.jsx)(d.Z,{children:"Confirm Delete"}),(0,u.jsx)(c.Z,{children:"Are you sure you want to delete this organization?"}),(0,u.jsxs)(h.Z,{children:[(0,u.jsx)(t.Z,{onClick:P,color:"primary",children:"Cancel"}),(0,u.jsx)(t.Z,{onClick:async n=>{try{const n=y;if(null!==n){const i=e.filter((e=>e.id!==n));await j.Z.delete("".concat(f,"/organizations/").concat(n)),a(i),P()}}catch(i){console.error("Error deleting row:",i)}},variant:"contained",color:"error",children:"Delete"})]})]})]})}},155:(e,a,n)=>{n.d(a,{Z:()=>t});var i=n(1171),l=n(6417);const t=(0,i.Z)((0,l.jsx)("path",{d:"M18.41 5.8 17.2 4.59c-.78-.78-2.05-.78-2.83 0l-2.68 2.68L3 15.96V20h4.04l8.74-8.74 2.63-2.63c.79-.78.79-2.05 0-2.83zM6.21 18H5v-1.21l8.66-8.66 1.21 1.21L6.21 18zM11 20l4-4h6v4H11z"}),"DriveFileRenameOutline")}}]);